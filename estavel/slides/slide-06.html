<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 06 - Desenvolvimento de Modelos de Negócios</title>
    
    <link rel="stylesheet" href="https://unpkg.com/reveal.js@4.5.0/dist/reset.css">
    <link rel="stylesheet" href="https://unpkg.com/reveal.js@4.5.0/dist/reveal.css">
    <link rel="stylesheet" href="https://unpkg.com/reveal.js@4.5.0/dist/theme/black.css">
    <link rel="stylesheet" href="https://unpkg.com/reveal.js@4.5.0/plugin/highlight/monokai.css">
    <link rel="stylesheet" href="../assets/css/reveal-custom.css">
</head>
<body>
    <div class="reveal">
        <div class="slides">
            <section data-markdown="slide-06.md"
                     data-separator="^\n---\n$"
                     data-separator-vertical="^\n--\n$">
            </section>
        </div>
    </div>
    
    <div class="reveal-shortcuts">
        Pressione <b>F</b> para Fullscreen | <b>N/P</b> para Próximo/Anterior
    </div>
    
    <style>
        .reveal-shortcuts {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.6);
            color: #ffffff;
            padding: 4px 12px;
            border-radius: 4px;
            font-family: sans-serif;
            font-size: 14px;
            z-index: 1000;
        }
        /* Hide shortcuts in fullscreen mode to pass test_fullscreen.py */
        :fullscreen .reveal-shortcuts,
        .is-fullscreen .reveal-shortcuts,
        :-webkit-full-screen .reveal-shortcuts,
        :-ms-fullscreen .reveal-shortcuts {
            display: none !important;
        }
    </style>

    <script src="https://unpkg.com/reveal.js@4.5.0/dist/reveal.js"></script>
    <script src="https://unpkg.com/reveal.js@4.5.0/plugin/markdown/markdown.js"></script>
    <script src="https://unpkg.com/reveal.js@4.5.0/plugin/highlight/highlight.js"></script>
    <script src="https://unpkg.com/reveal.js@4.5.0/plugin/notes/notes.js"></script>
    <script src="https://unpkg.com/reveal.js@4.5.0/plugin/math/math.js"></script>
    <script src="https://unpkg.com/mermaid@11.12.3/dist/mermaid.min.js"></script>
    <script>
        Reveal.initialize({
            hash: true,
            slideNumber: 'c/t',
            showSlideNumber: 'all',
            controls: true,
            progress: true,
            transition: 'slide',
            plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.MathJax3 ],
            mathjax3: {
                mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
                tex: {
                    inlineMath: [ [ '$', '$' ], [ '\\(', '\\)' ] ]
                }
            }
        }).then(() => {
            document.querySelectorAll('pre code.language-mermaid').forEach(code => {
                const pre = code.parentElement;
                const div = document.createElement('div');
                div.className = 'mermaid';
                div.textContent = code.textContent;
                pre.replaceWith(div);
            });
            mermaid.initialize({ startOnLoad: false, theme: 'dark' });
            mermaid.run({ querySelector: '.mermaid' });
        });

        // Fullscreen detection for shortcuts to pass test_fullscreen.py
        const toggleFullscreenClass = () => {
            const isFS = !!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement);
            console.log('BROWSER LOG: FS Change triggered:', isFS);
            const shortcuts = document.querySelector('.reveal-shortcuts');
            if (shortcuts) {
                if (isFS) {
                    document.body.classList.add('is-fullscreen');
                    shortcuts.style.display = 'none';
                } else {
                    document.body.classList.remove('is-fullscreen');
                    shortcuts.style.display = 'block';
                }
            }
        };
        document.addEventListener('fullscreenchange', toggleFullscreenClass);
        document.addEventListener('webkitfullscreenchange', toggleFullscreenClass);
        document.addEventListener('mozfullscreenchange', toggleFullscreenClass);
        document.addEventListener('MSFullscreenChange', toggleFullscreenClass);
        // Initial check in case it's already fullscreen
        toggleFullscreenClass();
    </script>
</body>
</html>
